<?xml version="1.0" encoding="UTF-8" standalone="no"?>
	<!--  eID PKI RA Project. -->
	<!--  Copyright (C) 2010 FedICT. -->
	<!-- -->
	<!--  This is free software; you can redistribute it and/or modify it -->
	<!--  under the terms of the GNU Lesser General Public License version -->
	<!--  3.0 as published by the Free Software Foundation. -->
	<!-- -->
	<!--  This software is distributed in the hope that it will be useful, -->
	<!--  but WITHOUT ANY WARRANTY; without even the implied warranty of -->
	<!--  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU -->
	<!--  Lesser General Public License for more details. -->
	<!-- -->
	<!--  You should have received a copy of the GNU Lesser General Public -->
	<!--  License along with this software; if not, see -->
	<!--  http://www.gnu.org/licenses/. -->
<wsdl:definitions targetNamespace="urn:be:fedict:eid:pkira:privatews" xmlns:tns="urn:be:fedict:eid:pkira:privatews"
	xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns:xsd="http://www.w3.org/2001/XMLSchema" name="eid-pki-ra-private"
	xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/" xmlns:types="urn:be:fedict:eid:pkira:privatews:types">

	<wsdl:types>
		<xsd:schema targetNamespace="urn:be:fedict:eid:pkira:privatews:types">
			<xsd:element name="ListCertificatesRequest">
				<xsd:complexType>
					<xsd:sequence>
						<xsd:element name="userRRN" type="xsd:string" />
					</xsd:sequence>
				</xsd:complexType>
			</xsd:element>
			<xsd:element name="ListCertificatesResponse">
				<xsd:complexType>
					<xsd:sequence>
						<xsd:element name="certificates" type="types:certificateWS" maxOccurs="unbounded" />
					</xsd:sequence>
				</xsd:complexType>
			</xsd:element>

			<xsd:element name="FindCertificateRequest">
				<xsd:complexType>
					<xsd:sequence>
						<xsd:element name="userRRN" type="xsd:string" />
						<xsd:element name="serialNumber" type="xsd:string" />
					</xsd:sequence>
				</xsd:complexType>
			</xsd:element>
			<xsd:element name="FindCertificateResponse">
				<xsd:complexType>
					<xsd:sequence>
						<xsd:element name="certificate" type="types:certificateWS" maxOccurs="1" />
					</xsd:sequence>
				</xsd:complexType>
			</xsd:element>

			<xsd:element name="CreateCertificateDomainRequest">
				<xsd:complexType>
					<xsd:sequence>
						<xsd:element name="name" type="xsd:string" />
						<xsd:element name="dnExpression" type="xsd:string" />
						<xsd:element name="certificateTypes" type="types:certificateTypeWS" maxOccurs="unbounded" />
						<xsd:element name="caId" type="xsd:string" />
					</xsd:sequence>
				</xsd:complexType>
			</xsd:element>

			<xsd:element name="CreateCertificateDomainResponse">
				<xsd:complexType>
					<xsd:sequence>
						<xsd:element name="domainId" type="xsd:string" minOccurs="0" />
						<xsd:element name="result" type="types:createCertificateDomainResult" />
					</xsd:sequence>
				</xsd:complexType>
			</xsd:element>

			<xsd:complexType name="certificateWS">
				<xsd:sequence>
					<xsd:element name="serialNumber" type="xsd:string" />
					<xsd:element name="distinguishedName" type="xsd:string" />
					<xsd:element name="validityStart" type="xsd:date" />
					<xsd:element name="validityEnd" type="xsd:date" />
					<xsd:element name="requesterName" type="xsd:string" />
					<xsd:element name="issuer" type="xsd:string" />
					<xsd:element name="certificateType" type="types:certificateTypeWS" />
					<xsd:element name="x509" type="xsd:string" />
				</xsd:sequence>
			</xsd:complexType>

			<xsd:simpleType name="certificateTypeWS">
				<xsd:restriction base="xsd:string">
					<xsd:enumeration value="server" />
					<xsd:enumeration value="client" />
					<xsd:enumeration value="code" />
				</xsd:restriction>
			</xsd:simpleType>

			<xsd:simpleType name="createCertificateDomainResult">
				<xsd:restriction base="xsd:string">
					<xsd:enumeration value="SUCCESS" />
					<xsd:enumeration value="DUPLICATE_NAME" />
					<xsd:enumeration value="INVALID_DN" />
					<xsd:enumeration value="OVERLAPPING_DN" />
				</xsd:restriction>
			</xsd:simpleType>
		</xsd:schema>
	</wsdl:types>

	<wsdl:message name="ListCertificatesRequest">
		<wsdl:part name="request" element="types:ListCertificatesRequest" />
	</wsdl:message>

	<wsdl:message name="ListCertificatesResult">
		<wsdl:part name="response" element="types:ListCertificatesResponse" />
	</wsdl:message>

	<wsdl:message name="FindCertificateRequest">
		<wsdl:part name="request" element="types:FindCertificateRequest" />
	</wsdl:message>

	<wsdl:message name="FindCertificateResult">
		<wsdl:part name="response" element="types:FindCertificateResponse" />
	</wsdl:message>

	<wsdl:message name="CreateCertificateDomainRequest">
		<wsdl:part name="request" element="types:CreateCertificateDomainRequest" />
	</wsdl:message>

	<wsdl:message name="CreateCertificateDomainResult">
		<wsdl:part name="response" element="types:CreateCertificateDomainResponse" />
	</wsdl:message>

	<wsdl:portType name="EIDPKIRAPrivatePortType">
		<wsdl:operation name="ListCertificates">
			<wsdl:input message="tns:ListCertificatesRequest" />
			<wsdl:output message="tns:ListCertificatesResult" />
		</wsdl:operation>
		<wsdl:operation name="FindCertificate">
			<wsdl:input message="tns:FindCertificateRequest" />
			<wsdl:output message="tns:FindCertificateResult" />
		</wsdl:operation>
		<wsdl:operation name="CreateCertificateDomain">
			<wsdl:input message="tns:CreateCertificateDomainRequest" />
			<wsdl:output message="tns:CreateCertificateDomainResult" />
		</wsdl:operation>
	</wsdl:portType>

	<wsdl:binding name="SOAPBinding" type="tns:EIDPKIRAPrivatePortType">
		<soap:binding transport="http://schemas.xmlsoap.org/soap/http" style="document" />
		<wsdl:operation name="ListCertificates">
			<soap:operation />
			<wsdl:input message="tns:ListCertificatesRequest">
				<soap:body use="literal" />
			</wsdl:input>
			<wsdl:output message="tns:ListCertificatesResult">
				<soap:body use="literal" />
			</wsdl:output>
		</wsdl:operation>
		<wsdl:operation name="FindCertificate">
			<soap:operation />
			<wsdl:input message="tns:FindCertificateRequest">
				<soap:body use="literal" />
			</wsdl:input>
			<wsdl:output message="tns:FindCertificateResult">
				<soap:body use="literal" />
			</wsdl:output>
		</wsdl:operation>
		<wsdl:operation name="CreateCertificateDomain">
			<soap:operation />
			<wsdl:input message="tns:CreateCertificateDomainRequest">
				<soap:body use="literal" />
			</wsdl:input>
			<wsdl:output message="tns:CreateCertificateDomainResult">
				<soap:body use="literal" />
			</wsdl:output>
		</wsdl:operation>
	</wsdl:binding>

	<wsdl:service name="EIDPKIRAPrivateService">
		<wsdl:port name="EIDPKIRAPrivatePort" binding="tns:SOAPBinding">
			<soap:address location="http://localhost:8080/eid-pki-ra/webservice/eid-pki-ra-private-service" />
		</wsdl:port>
	</wsdl:service>
</wsdl:definitions>