<!--
  ~ eID PKI RA Project.
  ~ Copyright (C) 2010-2014 FedICT.
  ~
  ~ This is free software; you can redistribute it and/or modify it
  ~ under the terms of the GNU Lesser General Public License version
  ~ 3.0 as published by the Free Software Foundation.
  ~
  ~ This software is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
  ~ Lesser General Public License for more details.
  ~
  ~ You should have received a copy of the GNU Lesser General Public
  ~ License along with this software; if not, see
  ~ http://www.gnu.org/licenses/.
  -->

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:rich="http://richfaces.org/rich"
                template="/layout/template.xhtml"
                login-required="true">

	<ui:define name="center">
		<form id="dssRequestForm" method="post" action="#{configurationEntryContainer.dssServletUrl}">
			<rich:panel id="panel">
				<f:facet name="header">#{messages['revocation.sign.title']}</f:facet>
				<p>#{messages['revocation.sign.subtitle']}</p>
				<input type="hidden" name="SignatureRequest" value="#{revocationContractSigningWrapper.base64CsrXml}" />
				<input type="hidden" name="target" value="#{revocationContractSigningWrapper.dssSigningHandlerViewID}" />
				<input type="hidden" name="language" value="#{org.jboss.seam.international.localeSelector.language}" />
				<input type="submit" value="#{messages['button.send']}" />
				<script type="text/javascript">
					document.getElementById('dssRequestForm').submit();
				</script>
			</rich:panel>
		</form>
	</ui:define>
</ui:composition>