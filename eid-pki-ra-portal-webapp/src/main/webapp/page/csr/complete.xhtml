<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:s="http://jboss.com/products/seam/taglib"
		xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:f="http://java.sun.com/jsf/core"
		xmlns:h="http://java.sun.com/jsf/html" xmlns:rich="http://richfaces.org/rich"
		xmlns:a="http://richfaces.org/a4j" template="/layout/template.xhtml">

	<ui:define name="center">
		<h:form id="csrForm">
			<rich:panel id="csrPanel">
				<f:facet name="header">
					<h:panelGroup>
						<h:outputText value="#{messages['csr.title']}" />
					</h:panelGroup>	
				</f:facet>
				
				<s:decorate id="distinguishedNameDecoration" template="/layout/edit.xhtml">
                	<ui:define name="label">#{messages['csr.distinguishedName']}:</ui:define>
                	<h:outputText id="distinguishedName" value="#{certificateSigningRequest.distinguishedName.subject}" />
            	</s:decorate>
            	
            	<s:decorate id="certificateTypeDecoration" template="/layout/edit.xhtml">
                	<ui:define name="label">#{messages['csr.certificateType']}:</ui:define> 
                	<h:selectOneRadio id="certificateTypeRadioList" layout="lineDirection"
                  			value="#{certificateSigningRequest.certificateType}" required="true">
  						<s:convertEnum />
						<s:enumItem enumValue="SERVER" label="#{messages['certificateType.server']}" />
						<s:enumItem enumValue="CLIENT" label="#{messages['certificateType.client']}" />
						<s:enumItem enumValue="CODE" label="#{messages['certificateType.code']}" />
					</h:selectOneRadio>               	
            	</s:decorate>
				
				<s:decorate id="validityPeriodDecoration" template="/layout/edit.xhtml">
                	<ui:define name="label">#{messages['csr.validityPeriod']}:</ui:define>
                	<h:selectOneMenu value="#{certificateSigningRequest.validityPeriod}">                	
                		<s:selectItems value="#{certificateSigningRequest.validityPeriods}" var="period" 
                			label="#{period.monthsInPeriod}" noSelectionLabel="#{no.selection.label}"
                			required="true"/>
                		<s:convertEnum />
                	</h:selectOneMenu>
            	</s:decorate>
				
				<s:decorate id="operatorNameDecoration" template="/layout/edit.xhtml">
                	<ui:define name="label">#{messages['csr.operatorName']}:</ui:define>
                	<h:outputText id="operatorName" value="#{certificateSigningRequest.operatorName}" required="true"  />
            	</s:decorate>
				
				<s:decorate id="operatorFunctionDecoration" template="/layout/edit.xhtml">
                	<ui:define name="label">#{messages['csr.operatorFunction']}:</ui:define>
                	<h:inputText required="true" id="operatorFunction" value="#{certificateSigningRequest.operatorFunction}" />
            	</s:decorate>
				
				<s:decorate id="operatorPhoneDecoration" template="/layout/edit.xhtml">
                	<ui:define name="label">#{messages['csr.operatorPhone']}:</ui:define>
                	<h:inputText required="true" id="operatorPhone" value="#{certificateSigningRequest.operatorPhone}" />
            	</s:decorate>
				
				<s:decorate id="operatorEmailDecoration" template="/layout/edit.xhtml">
                	<ui:define name="label">#{messages['csr.operatorEmail']}:</ui:define>
                	<h:inputText required="true" id="operatorEmail" value="#{certificateSigningRequest.operatorEmail}" />
            	</s:decorate>
				
				<s:decorate id="csrDecoration" template="/layout/edit.xhtml">
                	<ui:define name="label">#{messages['csr.csr']}:</ui:define>
                	<h:outputText id="csr" value="#{certificateSigningRequest.base64Csr}" />
            	</s:decorate>
				
				<s:decorate id="descriptionDecoration" template="/layout/edit.xhtml">
                	<ui:define name="label">#{messages['csr.description']}:</ui:define>
                	<h:inputTextarea id="operatorEmail" value="#{certificateSigningRequest.description}" cols="80" rows="12" />
            	</s:decorate>
            	
				<s:decorate template="/layout/buttonbox.xhtml" id="csrButtonBox">
					<h:commandButton action="#{certificateHandler.requestCertificateSigningRequest}" value="#{messages['general.send']}" id="send"/>
					<s:button value="#{messages['general.cancel']}" view="/page/csr/upload.xhtml" id="cancel"/>
				</s:decorate>       
			</rich:panel>
		</h:form>	
	</ui:define>	
</ui:composition>		