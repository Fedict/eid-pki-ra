<!--
  ~ eID PKI RA Project.
  ~ Copyright (C) 2010-2014 FedICT.
  ~
  ~ This is free software; you can redistribute it and/or modify it
  ~ under the terms of the GNU Lesser General Public License version
  ~ 3.0 as published by the Free Software Foundation.
  ~
  ~ This software is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
  ~ Lesser General Public License for more details.
  ~
  ~ You should have received a copy of the GNU Lesser General Public
  ~ License along with this software; if not, see
  ~ http://www.gnu.org/licenses/.
  -->

<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:s="http://jboss.com/products/seam/taglib"
                xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html" xmlns:rich="http://richfaces.org/rich"
                template="/layout/template.xhtml"
                login-required="true">

	<ui:define name="center">
		<h:form id="revocationContractForm">
			<rich:panel id="revocationContractPanel">
				<f:facet name="header">
					<h:panelGroup>
						<h:outputText value="#{messages['contract.revocation.title']}" />
					</h:panelGroup>	
				</f:facet>
				
				<s:decorate id="operatorNameDecoration" template="/layout/edit.xhtml">
                	<ui:define name="label">#{messages['operator.name']}:</ui:define>
                	<h:outputText id="operatorName" value="#{revocationContract.operator.name}" />
            	</s:decorate>
				
				<s:decorate id="operatorFunctionDecoration" template="/layout/edit.xhtml">
                	<ui:define name="label">#{messages['operator.function']}:</ui:define>
                	<h:inputText required="true" id="operatorFunction" value="#{revocationContract.operator.function}" />
            	</s:decorate>
				
				<s:decorate id="operatorPhoneDecoration" template="/layout/edit.xhtml">
                	<ui:define name="label">#{messages['operator.phone']}:</ui:define>
                	<h:inputText required="true" id="operatorPhone" value="#{revocationContract.operator.phone}" />
            	</s:decorate>
				
				<s:decorate id="serialNumberDecoration" template="/layout/edit.xhtml">
                	<ui:define name="label">#{messages['certificate.number']}:</ui:define>
                	<h:outputText id="serialNumber" value="#{revocationContract.certificate.serialNumber}" />
            	</s:decorate>
				
				<s:decorate id="distinguishedNameDecoration" template="/layout/edit.xhtml">
                	<ui:define name="label">#{messages['certificate.dn']}:</ui:define>
                	<h:outputText  id="distinguishedName" value="#{revocationContract.certificate.distinguishedName}" />
            	</s:decorate>
				
				<s:decorate id="validityStartDecoration" template="/layout/edit.xhtml">
                	<ui:define name="label">#{messages['certificate.validity.start']}:</ui:define>
                	<h:outputText id="validityStart" value="#{revocationContract.certificate.validityStart}" />
            	</s:decorate>
				
				<s:decorate id="validityEndDecoration" template="/layout/edit.xhtml">
                	<ui:define name="label">#{messages['certificate.validity.end']}:</ui:define>
                	<h:outputText id="validityEnd" value="#{revocationContract.certificate.validityEnd}" />
            	</s:decorate>
				
				<s:decorate id="issuerDecoration" template="/layout/edit.xhtml">
                	<ui:define name="label">#{messages['certificate.issuer']}:</ui:define>
                	<h:outputText id="issuer" value="#{revocationContract.certificate.issuer}" />
            	</s:decorate>
				
				<s:decorate id="x509Decoration" template="/layout/edit.xhtml">
                	<ui:define name="label">#{messages['certificate.x509']}:</ui:define>
                	<h:inputTextarea id="csr" value="#{revocationContract.certificate.x509}" disabled="true" cols="90" rows="14" />
            	</s:decorate>
				
				<s:decorate id="descriptionDecoration" template="/layout/edit.xhtml">
                	<ui:define name="label">#{messages['contract.description']}:</ui:define>
                	<h:inputTextarea id="operatorEmail" value="#{revocationContract.description}" cols="90" rows="14" required="true" />
            	</s:decorate>
            	
				<s:decorate template="/layout/buttonbox.xhtml" id="revocationContractButtonBox">
					<h:commandButton action="#{revocationContractPreSigningHandler.prepareSignment}" value="#{messages['button.revoke']}" id="send"/>
					<s:button value="#{messages['button.cancel']}" action="cancel" id="cancel" />
				</s:decorate>       
			</rich:panel>
		</h:form>	
	</ui:define>	
</ui:composition>		